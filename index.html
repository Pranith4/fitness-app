<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="card center">
  <h2>Fitness Tracker</h2>
  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p id="error"></p>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbzwWrCRjHYeJA0-5SHxAamG-H96m5ItJzOXtNhgu0sy43xIlkCPLTeayK6bKT1-S9-Raw/exec";

async function login(){
  const res=await fetch(API_URL,{method:"POST",body:JSON.stringify({
    action:"login",username:username.value,password:password.value
  })});
  const d=await res.json();
  if(d.success){
    localStorage.setItem("user",username.value);
    window.location="dashboard.html";
  } else error.innerText="Invalid login";
}
</script>
</body>
</html>
